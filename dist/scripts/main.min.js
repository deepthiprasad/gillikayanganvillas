/*!
 *
 *  Web Starter Kit
 *  Copyright 2015 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
!function(){"use strict";var t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||t)&&navigator.serviceWorker.register("service-worker.js").then(function(t){t.onupdatefound=function(){if(navigator.serviceWorker.controller){var a=t.installing;a.onstatechange=function(){switch(a.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(t){console.error("Error during service worker registration:",t)});var a=window.$,e=function(t){var a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(t)},o=-1,i={},r=!1,n=!1,s="none",d=!1,l=function(){var t=a(".polaroid.expanded"),e=t.data("degrees"),o=t.data("tx"),i=t.data("ty"),r=t.data("height"),n=t.data("width");t.removeClass("expanded").css({height:r,width:n,top:"auto",left:"auto",bottom:"auto",right:"auto"}),t.css("transform","rotate("+e+")translate("+o+","+i+")")},h=function(t){var e=t.data("index");if(!n&&e!==o){n=!0;var i=a(window),r=i.height(),s=i.width(),d=100,h=50;d=s>1300?(s-1100)/2:s>600?100:50;var c=s-2*d,u=r-2*h,g=t.data("degrees");l(),o=Number(t.data("index"));var p=Number(t.data("iheight")),f=Number(t.data("iwidth")),m=p/f*(c-40)+70;m>u?(c=f/p*(u-70)+40,d=(s-c)/2):u=m,h=(r-u)/2,t.addClass("expanded"),s>600?t.css({bottom:0,right:0,transform:"rotate("+g+")"}).transition({top:h,right:d,height:u,width:c,duration:1e3,rotate:0},function(){n=!1}):(t.css({top:h,right:d,height:u,width:c,rotate:0}),n=!1)}},c=function(t){if(!n){n=!0;var e=a(window),i=e.height(),r=e.width(),s=100,d=50;s=r>1300?(r-1100)/2:r>600?100:50;var l=r-2*s,h=i-2*d,c=t.data("degrees");o=Number(t.data("index"));var u=t.data("iheight"),g=t.data("iwidth"),p=u/g*(l-40)+70;p>h?(l=g/u*(h-70)+40,s=(r-l)/2):h=p,d=(i-h)/2,t.addClass("expanded"),r>600?t.css({top:0,left:0,transform:"rotate("+c+")"}).transition({top:d,left:s,height:h,width:l,duration:1e3,rotate:0},function(){n=!1}):(t.css({top:d,left:s,height:h,width:l,rotate:0}),n=!1)}},u=function(t){if(!n){var e=i[t].length,r=0===o?e-1:o-1,s=a("#"+t+"-polaroid-"+r);l(),c(s)}},g=function(t){if(!n){var e=i[t].length,r=(o+1)%e,s=a("#"+t+"-polaroid-"+r);l(),h(s)}},p=function(t){s=t.data("prefix"),"main"===s&&d||(a("header").hide(),a("#next").show(),a("#previous").show(),"main"===s?(a("#gallery-overlay").show(),a("#polaroid-gallery").addClass("gallery")):(a("#"+s+"-polaroid-gallery").addClass("gallery"),a(".room."+s).addClass("expanded").css({position:"fixed",top:0,left:0,bottom:0,right:0})),h(t))},f=function(){l(),a("header").show(),a("#next").hide(),a("#previous").hide(),"main"===s?(a("#gallery-overlay").hide(),a("#polaroid-gallery").removeClass("gallery")):a(".room."+s).removeClass("expanded").css({position:"relative",top:"auto",left:"auto",bottom:"auto",right:0}),o=-1,s="none",a("html, body").animate({scrollTop:"+=10px"},300)};a(".rooms").on("click",".room.expanded",function(){f()});var m=function(t,e,o){var i=a(t);i.on("click",".polaroid",function(t){var e=a(this);t.stopPropagation(),p(e)}),i.on("click",".close",function(t){t.stopPropagation(),f()}),o.forEach(function(t,o){var r=a('<div title="click-me" class="polaroid" id="'+e+"-polaroid-"+o+'"><div class="close">&#x2715;</div><div class="image"></div><div class="description">'+t.description+"</div></div>"),n=Math.min(a(window).width(),1300),s={degrees:[1,10],height:[.17*n,.25*n],width:[.17*n,.25*n],tx:10,ty:125},d={degrees:[1,10],height:[140,180],width:[180,220],tx:35,ty:35};n<620&&(s={degrees:[1,10],height:[.23*n,.3*n],width:[.23*n,.3*n],tx:10,ty:35},d={degrees:[1,10],height:[60,100],width:[60,100],tx:0,ty:0});var l="main"===e?s:d,h=Math.random()<=.5?"-":"",c=Math.random()<=.5?"-":"",u=Math.random()<=.85?"-":"",g=Math.floor(Math.random()*(l.height[1]-l.height[0])+l.height[0]),p=Math.floor(Math.random()*(l.width[1]-l.width[0])+l.width[0]),f=c+Math.floor(Math.random()*(l.tx*p/(l.width[0]+l.width[1])))+"px",m=u+Math.floor(Math.random()*(l.ty*g/(l.height[0]+l.height[1])))+"px",v=h+Math.floor(Math.random()*(l.degrees[1]-l.degrees[0])+l.degrees[0])+"deg";0===o&&(f=m="0px"),p+="px",g+="px",r.data("prefix",e),r.data("degrees",v),r.data("tx",f),r.data("ty",m),r.data("index",o),r.data("height",g),r.data("width",p),r.css({height:g,width:p,transform:"rotate("+v+")translate("+f+","+m+")"}),r.find(".image").css("background-image","url("+t.url+")"),i.append(r);var w=new Image;w.name=t.url,w.src=t.url,w.onload=function(){r.data("iheight",this.height),r.data("iwidth",this.width)}})},v=function(t,e){r?m(t,e,i[e]):a.getJSON("/images.json",function(a){i=a,r=!0,m(t,e,i[e])})};a(document).ready(function(){a(".owl-carousel").owlCarousel({items:1,autoplay:!0,autoplayTimeout:4e3,loop:!0}),v("#polaroid-gallery","main"),v("#single-polaroid-gallery","single"),v("#double-polaroid-gallery","double"),v("#triple-polaroid-gallery","triple"),a("#gallery-overlay").on("click",function(t){f(),t.stopPropagation()}),a("#next").on("click",function(){g(s)}),a("#previous").on("click",function(){u(s)}),a(".room-overlay").mouseenter(function(){a("#polaroid-gallery").hide();var t=a(this);d=!0,setTimeout(function(){a("html, body").animate({scrollTop:t.offset().top-35},400)},200)}),a(".room-overlay").mouseleave(function(t){"none"===s&&(t.stopPropagation(),a("#polaroid-gallery").show(),setTimeout(function(){d=!1},400))}),a("body").smoothScroll({offset:-60,delegateSelector:"header a"});var t=a("header"),o=a("#content");a(window).scroll(function(){var e=5,i=a(this).scrollTop()+e,r=a(this).height(),n=i/r*100,s=a(this).width(),d=460;s<600&&(d=210),n>=90||i>d?(t.addClass("fixed"),o.addClass("fixed")):(t.removeClass("fixed"),o.removeClass("fixed"))}),a(".book").on("click",function(t){t.preventDefault(),t.stopPropagation(),window.open("https://app-apac.thebookingbutton.com/properties/gilikhayangandirect","_blank")});var i=function(t){a(".form-error").text(t).removeClass("hide")},r=function(){a(".form-error").addClass("hide")},n=function(t){a("#flash-message").addClass("show").text(t),setTimeout(function(){a("#flash-message").removeClass("show")},1500)};a("#sign-up").on("click",function(){var t=a("#subscriber").val();return e(t)?(a(".subscriber-error").hide(),a("#signup").prop("disabled",!0),void a.ajax({url:"http://gilikhayangan-shastri9999.c9users.io:8081/subscribe",type:"POST",contentType:"application/json",data:JSON.stringify({email:t}),success:function(){n("You have successfully subscribed!"),a("#signup").prop("disabled",!1),a("#subscriber").val("")}})):void a(".subscriber-error").show()}),a("#say-hello-form").submit(function(t){var o=a("#message").val(),s=a("#email").val(),d=a("#name").val();return t.preventDefault(),r(),d?e(s)?o?(a(".submit").prop("disabled",!0),a(".form-loading").removeClass("hide"),void a.ajax({url:"http://gilikhayangan-shastri9999.c9users.io:8081/",type:"POST",contentType:"application/json",data:JSON.stringify({to:d+" <"+s+">",message:o}),success:function(){n("Your Message has reached us!"),a(".submit").prop("disabled",!1),a("#message").val(""),a("#email").val(""),a("#name").val(""),a(".form-loading").addClass("hide")}})):void i("Please fill in the Message."):void i("Please fill in valid Email."):void i("Please fill in the Name.")})})}();
//# sourceMappingURL=main.min.js.map
