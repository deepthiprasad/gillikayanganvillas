/*!
 *
 *  Web Starter Kit
 *  Copyright 2015 Google Inc. All rights reserved.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *    https://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License
 *
 */
!function(){"use strict";var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||a)&&navigator.serviceWorker.register("service-worker.js").then(function(a){a.onupdatefound=function(){if(navigator.serviceWorker.controller){var e=a.installing;e.onstatechange=function(){switch(e.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(a){console.error("Error during service worker registration:",a)});var e=window.$,o=function(a){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(a)},t=-1,i={},r=!1,n=!1,s="main",d=function(){var a=e(".polaroid.expanded"),o=a.data("degrees"),t=a.data("tx"),i=a.data("ty"),r=a.data("height"),n=a.data("width");a.removeClass("expanded").css({height:r,width:n,top:"auto",left:"auto",bottom:"auto",right:"auto"}),a.css("transform","rotate("+o+")translate("+t+","+i+")")},l=function(a){var o=a.data("index");if(!n&&o!==t){n=!0;var i=e(window),r=i.height(),s=i.width(),l=100,h=50,c=s-2*l,u=r-2*h,g=a.data("degrees");d(),t=Number(a.data("index"));var f=Number(a.data("iheight")),p=Number(a.data("iwidth"));u=Math.min(f/p*(c-40)+70,u),h=(r-u)/2,a.addClass("expanded"),a.css({bottom:0,right:0,transform:"rotate("+g+")"}).transition({top:h,right:l,height:u,width:c,duration:1e3,rotate:-360},function(){n=!1})}},h=function(a){if(!n){n=!0;var o=e(window),i=o.height(),r=o.width(),s=100,d=50,l=r-2*s,h=i-2*d,c=a.data("degrees");t=Number(a.data("index"));var u=a.data("iheight"),g=a.data("iwidth");h=Math.min(u/g*(l-40)+70,h),d=(i-h)/2,a.addClass("expanded"),a.css({top:0,left:0,transform:"rotate("+c+")"}).transition({top:d,left:s,height:h,width:l,duration:1e3,rotate:360},function(){n=!1})}},c=function(a){if(!n){var o=i[a].length,r=0===t?o-1:t-1,s=e("#"+a+"-polaroid-"+r);d(),h(s)}},u=function(a){if(!n){var o=i[a].length,r=(t+1)%o,s=e("#"+a+"-polaroid-"+r);d(),l(s)}},g=function(a){e("header").hide(),e("#next").show(),e("#previous").show(),s=a.data("prefix"),"main"===s?(e("#gallery-overlay").show(),e("#polaroid-gallery").addClass("gallery")):(e("#"+s+"-polaroid-gallery").addClass("gallery"),e(".room."+s).addClass("expanded").css({position:"fixed",top:0,left:0,bottom:0,right:0})),l(a)},f=function(){d(),e("header").show(),e("#next").hide(),e("#previous").hide(),"main"===s?(e("#gallery-overlay").hide(),e("#polaroid-gallery").removeClass("gallery")):e(".room."+s).removeClass("expanded").css({position:"relative",top:"auto",left:"auto",bottom:"auto",right:0}),t=-1,s="none"};e(".rooms").on("click",".room.expanded",function(){f()});var p=function(a,o,t){var i=e(a);i.on("click",".polaroid",function(a){var o=e(this);a.stopPropagation(),g(o)}),t.forEach(function(a,t){var r=e('<div class="polaroid" id="'+o+"-polaroid-"+t+'"><div class="image"></div><div class="description">'+a.description+"</div></div>"),n={degrees:[15,30],height:[180,280],tx:75,ty:75},s={degrees:[15,30],height:[100,150],tx:35,ty:35},d="main"===o?n:s,l=t%2?"-":"",h=Math.random()<=.5?"-":"",c=Math.random()<=.5?"-":"",u=Math.floor(Math.random()*(d.height[1]-d.height[0])+d.height[0]),g=u,f=h+Math.floor(Math.random()*(d.tx*g/(d.height[0]+d.height[1])))+"px",p=c+Math.floor(Math.random()*(d.ty*g/(d.height[0]+d.height[1])))+"px",m=l+Math.floor(Math.random()*(d.degrees[1]-d.degrees[0])+d.degrees[0])+"deg";0===t&&(f=p="0px"),g+="px",u+="px",r.data("prefix",o),r.data("degrees",m),r.data("tx",f),r.data("ty",p),r.data("index",t),r.data("height",u),r.data("width",g),r.css({height:u,width:g,transform:"rotate("+m+")translate("+f+","+p+")"}),r.find(".image").css("background-image","url("+a.url+")"),i.append(r);var v=new Image;v.name=a.url,v.src=a.url,v.onload=function(){r.data("iheight",this.height),r.data("iwidth",this.width)}})},m=function(a,o){r?p(a,o,i[o]):e.getJSON("/images.json",function(e){i=e,r=!0,p(a,o,i[o])})};e(document).ready(function(){e(".owl-carousel").owlCarousel({items:1,autoplay:!0,autoplayTimeout:4e3,loop:!0}),m("#polaroid-gallery","main"),m("#single-polaroid-gallery","single"),m("#double-polaroid-gallery","double"),m("#triple-polaroid-gallery","triple"),e("#gallery-overlay").on("click",function(a){f(),a.stopPropagation()}),e("#next").on("click",function(){u(s)}),e("#previous").on("click",function(){c(s)}),e(".rooms").mouseenter(function(){e("#polaroid-gallery").hide()}),e(".rooms").mouseleave(function(){"none"===s&&e("#polaroid-gallery").show()}),e("body").smoothScroll({offset:-40,delegateSelector:"header a"});var a=e("header"),t=e("#content");e(window).scroll(function(){var o=100,i=e(this).scrollTop()+o,r=e(this).height(),n=i/r*100;n>=90?(a.addClass("fixed"),t.addClass("fixed")):(a.removeClass("fixed"),t.removeClass("fixed"))});var i=function(a){e(".form-error").text(a).removeClass("hide")},r=function(){e(".form-error").addClass("hide")},n=function(a){e("#flash-message").addClass("show").text(a),setTimeout(function(){e("#flash-message").removeClass("show")},1500)};e("#sign-up").on("click",function(){var a=e("#subscriber").val();return o(a)?(e(".subscriber-error").hide(),e("#signup").prop("disabled",!0),void e.ajax({url:"http://gilikhayangan-shastri9999.c9users.io:8081/subscribe",type:"POST",contentType:"application/json",data:JSON.stringify({email:a}),success:function(){n("You have successfully subscribed!"),e("#signup").prop("disabled",!1),e("#subscriber").val("")}})):void e(".subscriber-error").show()}),e("#say-hello-form").submit(function(a){var t=e("#message").val(),s=e("#email").val(),d=e("#name").val();return a.preventDefault(),r(),d?o(s)?t?(e(".submit").prop("disabled",!0),e(".form-loading").removeClass("hide"),void e.ajax({url:"http://gilikhayangan-shastri9999.c9users.io:8081/",type:"POST",contentType:"application/json",data:JSON.stringify({to:d+" <"+s+">",message:t}),success:function(){n("Your Message has reached us!"),e(".submit").prop("disabled",!1),e("#message").val(""),e("#email").val(""),e("#name").val(""),e(".form-loading").addClass("hide")}})):void i("Please fill in the Message."):void i("Please fill in valid Email."):void i("Please fill in the Name.")})})}();
//# sourceMappingURL=main.min.js.map
