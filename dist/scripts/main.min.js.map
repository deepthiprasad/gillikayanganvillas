{"version":3,"sources":["main.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","state","Error","e","console","error","$","validateEmail","email","re","test","currentAnimatedIndex","imagesData","imagesDataLoaded","animating","currentPrefix","resetPolaroid","polaroid","degrees","data","tx","ty","height","width","removeClass","css","top","left","bottom","right","animatePolaroidFromRight","polaroidIndex","windowElement","vh","vw","leftPadding","topPadding","pw","ph","Number","iheight","iwidth","Math","min","addClass","transform","transition","duration","rotate","animatePolaroidFromLeft","previousImage","prefix","totalImages","length","index","nextImage","startGallery","hide","show","position","stopGallery","on","loadPolaroid","polaroidGallerySelector","images","polaroidGalleryElement","event","this","stopPropagation","forEach","polaroidElement","description","mainVariations","roomVariations","variations","sign","random","xsign","ysign","floor","find","url","append","image","Image","name","src","onload","loadImages","gallerySelector","getJSON","document","ready","owlCarousel","items","autoplay","autoplayTimeout","loop","mouseenter","mouseleave","smoothScroll","offset","delegateSelector","headerElement","contentElement","scroll","fromTop","scrollTop","windowHeight","ratio","showFormError","text","hideError","showFlashMessage","message","setTimeout","val","prop","ajax","type","contentType","JSON","stringify","success","submit","preventDefault","to"],"mappings":"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","file":"main.min.js","sourcesContent":["/*!\n *\n *  Web Starter Kit\n *  Copyright 2015 Google Inc. All rights reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *    https://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License\n *\n */\n/* eslint-env browser */\n(function() {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n    );\n\n  if ('serviceWorker' in navigator &&\n      (window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js')\n    .then(function(registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function() {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function() {\n            switch (installingWorker.state) {\n              case 'installed':\n                // At this point, the old content will have been purged and the\n                // fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in the page's interface.\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                                'service worker became redundant.');\n\n              default:\n                // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function(e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n  var $ = window.$;\n  // Your custom JavaScript goes here\n\n  var validateEmail = function(email) {\n    // eslint-disable-next-line max-len\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  };\n  var currentAnimatedIndex = -1;\n  var imagesData = {};\n  var imagesDataLoaded = false;\n  var animating = false;\n  var currentPrefix = 'none';\n\n  var resetPolaroid = function() {\n    var polaroid = $('.polaroid.expanded');\n    var degrees = polaroid.data('degrees');\n    var tx = polaroid.data('tx');\n    var ty = polaroid.data('ty');\n    var height = polaroid.data('height');\n    var width = polaroid.data('width');\n\n    polaroid.removeClass('expanded')\n      .css({\n        height: height,\n        width: width,\n        top: 'auto',\n        left: 'auto',\n        bottom: 'auto',\n        right: 'auto'\n      });\n    polaroid.css('transform', 'rotate(' + degrees + ')' +\n                                       'translate(' + tx + ',' + ty + ')');\n  };\n\n  var animatePolaroidFromRight = function(polaroid) {\n    var polaroidIndex = polaroid.data('index');\n\n    if (animating || polaroidIndex === currentAnimatedIndex) {\n      return;\n    }\n    animating = true;\n    var windowElement = $(window);\n    var vh = windowElement.height();\n    var vw = windowElement.width();\n    var leftPadding = 100;\n    var topPadding = 50;\n    var pw = vw - 2 * leftPadding;\n    var ph = vh - 2 * topPadding;\n    var degrees = polaroid.data('degrees');\n    resetPolaroid();\n    currentAnimatedIndex = Number(polaroid.data('index'));\n    var iheight = Number(polaroid.data('iheight'));\n    var iwidth = Number(polaroid.data('iwidth'));\n    ph = Math.min((iheight / iwidth) * (pw - 40) + 70, ph);\n    topPadding = (vh - ph) / 2;\n    polaroid.addClass('expanded');\n    polaroid.css({bottom: 0,\n                  right: 0,\n                  transform: 'rotate(' + degrees + ')'})\n            .transition({top: topPadding,\n              right: leftPadding,\n              height: ph,\n              width: pw,\n              duration: 1000,\n              rotate: -360}, function() {\n                animating = false;\n              });\n  };\n\n  var animatePolaroidFromLeft = function(polaroid) {\n    if (animating) {\n      return;\n    }\n    animating = true;\n    var windowElement = $(window);\n    var vh = windowElement.height();\n    var vw = windowElement.width();\n    var leftPadding = 100;\n    var topPadding = 50;\n    var pw = vw - 2 * leftPadding;\n    var ph = vh - 2 * topPadding;\n    var degrees = polaroid.data('degrees');\n    currentAnimatedIndex = Number(polaroid.data('index'));\n    var iheight = polaroid.data('iheight');\n    var iwidth = polaroid.data('iwidth');\n    ph = Math.min((iheight / iwidth) * (pw - 40) + 70, ph);\n    topPadding = (vh - ph) / 2;\n    polaroid.addClass('expanded');\n    polaroid.css({top: 0,\n                  left: 0,\n                  transform: 'rotate(' + degrees + ')'})\n            .transition({top: topPadding,\n              left: leftPadding,\n              height: ph,\n              width: pw,\n              duration: 1000,\n              rotate: 360}, function() {\n                animating = false;\n              });\n  };\n\n  var previousImage = function(prefix) {\n    if (!animating) {\n      var totalImages = imagesData[prefix].length;\n      var index = currentAnimatedIndex === 0 ?\n                    totalImages - 1 : (currentAnimatedIndex - 1);\n      var polaroid = $('#' + prefix + '-polaroid-' + index);\n      resetPolaroid();\n      animatePolaroidFromLeft(polaroid);\n    }\n  };\n\n  var nextImage = function(prefix) {\n    if (!animating) {\n      var totalImages = imagesData[prefix].length;\n      var index = (currentAnimatedIndex + 1) % totalImages;\n      var polaroid = $('#' + prefix + '-polaroid-' + index);\n\n      resetPolaroid();\n\n      animatePolaroidFromRight(polaroid);\n    }\n  };\n\n  var startGallery = function(polaroid) {\n    $('header').hide();\n    $('#next').show();\n    $('#previous').show();\n    currentPrefix = polaroid.data('prefix');\n    if (currentPrefix === 'main') {\n      $('#gallery-overlay').show();\n      $('#polaroid-gallery').addClass('gallery');\n    } else {\n      $('#' + currentPrefix + '-polaroid-gallery').addClass('gallery');\n      $('.room.' + currentPrefix).addClass('expanded').css({\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0\n      });\n    }\n    animatePolaroidFromRight(polaroid);\n  };\n  var stopGallery = function() {\n    resetPolaroid();\n    $('header').show();\n    $('#next').hide();\n    $('#previous').hide();\n    if (currentPrefix === 'main') {\n      $('#gallery-overlay').hide();\n      $('#polaroid-gallery').removeClass('gallery');\n    } else {\n      $('.room.' + currentPrefix).removeClass('expanded').css({\n        position: 'relative',\n        top: 'auto',\n        left: 'auto',\n        bottom: 'auto',\n        right: 0\n      });\n    }\n    currentAnimatedIndex = -1;\n    currentPrefix = 'none';\n  };\n\n  $('.rooms').on('click', '.room.expanded', function() {\n    stopGallery();\n  });\n\n  var loadPolaroid = function(polaroidGallerySelector, prefix, images) {\n    var polaroidGalleryElement = $(polaroidGallerySelector);\n    polaroidGalleryElement.on('click', '.polaroid', function(event) {\n      var polaroid = $(this);\n      event.stopPropagation();\n      startGallery(polaroid);\n    });\n    images.forEach(function(polaroid, index) {\n      var polaroidElement = $('<div title=\"click-me\" class=\"polaroid\" id=\"' +\n                                prefix +\n                                '-polaroid-' + index + '\">' +\n                                '<div class=\"image\"></div>' +\n                                '<div class=\"description\">' +\n                                polaroid.description +\n                                '</div>' +\n                              '</div>');\n      var vw = $(window).width();\n      var mainVariations = {\n        degrees: [3, 40],\n        height: [0.15 * vw, 0.30 * vw],\n        width: [0.15 * vw, 0.30 * vw],\n        tx: 10,\n        ty: 125\n      };\n      var roomVariations = {\n        degrees: [15, 30],\n        height: [140, 180],\n        width: [180, 220],\n        tx: 35,\n        ty: 35\n      };\n      var variations = prefix === 'main' ? mainVariations : roomVariations;\n      var sign = Math.random() <= 0.5 ? '-' : '';\n      var xsign = Math.random() <= 0.5 ? '-' : '';\n      var ysign = Math.random() <= 0.85 ? '-' : '';\n      var height = Math.floor(Math.random() *\n                    (variations.height[1] - variations.height[0]) +\n                    variations.height[0]);\n      var width = Math.floor(Math.random() *\n                    (variations.width[1] - variations.width[0]) +\n                    variations.width[0]);\n      var tx = xsign + Math.floor(Math.random() *\n          (variations.tx * width /\n            (variations.width[0] + variations.width[1]))) + 'px';\n      var ty = ysign + Math.floor(Math.random() *\n          (variations.ty * height /\n            (variations.height[0] + variations.height[1]))) + 'px';\n      var degrees = sign + Math.floor(Math.random() *\n          (variations.degrees[1] - variations.degrees[0]) +\n          variations.degrees[0]) + 'deg';\n      if (index === 0) {\n        tx = ty = '0px';\n      }\n      width += 'px';\n      height += 'px';\n      polaroidElement.data('prefix', prefix);\n      polaroidElement.data('degrees', degrees);\n      polaroidElement.data('tx', tx);\n      polaroidElement.data('ty', ty);\n      polaroidElement.data('index', index);\n      polaroidElement.data('height', height);\n      polaroidElement.data('width', width);\n      polaroidElement.css({\n        height: height,\n        width: width,\n        transform: 'rotate(' + degrees + ')' +\n                                         'translate(' + tx + ',' + ty + ')'\n      });\n      polaroidElement.find('.image')\n                     .css('background-image', 'url(' + polaroid.url + ')');\n      polaroidGalleryElement.append(polaroidElement);\n      var image = new Image();\n      image.name = polaroid.url;\n      image.src = polaroid.url;\n      image.onload = function() {\n        polaroidElement.data('iheight', this.height);\n        polaroidElement.data('iwidth', this.width);\n      };\n    });\n  };\n\n  var loadImages = function(gallerySelector, prefix) {\n    if (imagesDataLoaded) {\n      loadPolaroid(gallerySelector, prefix, imagesData[prefix]);\n    } else {\n      $.getJSON('/images.json', function(data) {\n        imagesData = data;\n        imagesDataLoaded = true;\n        loadPolaroid(gallerySelector, prefix, imagesData[prefix]);\n      });\n    }\n  };\n\n  $(document).ready(function() {\n    /* Main Hero element carousel code */\n    $('.owl-carousel').owlCarousel({\n      items: 1,\n      autoplay: true,\n      autoplayTimeout: 4000,\n      loop: true\n    });\n\n    loadImages('#polaroid-gallery', 'main');\n    loadImages('#single-polaroid-gallery', 'single');\n    loadImages('#double-polaroid-gallery', 'double');\n    loadImages('#triple-polaroid-gallery', 'triple');\n\n    $('#gallery-overlay').on('click', function(event) {\n      stopGallery();\n      event.stopPropagation();\n    });\n    $('#next').on('click', function() {\n      nextImage(currentPrefix);\n    });\n    $('#previous').on('click', function() {\n      previousImage(currentPrefix);\n    });\n\n    $('.rooms').mouseenter(function() {\n      $('#polaroid-gallery').hide();\n    });\n    $('.rooms').mouseleave(function() {\n      if (currentPrefix === 'none') {\n        $('#polaroid-gallery').show();\n      }\n    });\n\n    /* Adding smoothness to scroll on navigation click */\n    $('body').smoothScroll({\n      offset: -40,\n      delegateSelector: 'header a'\n    });\n\n    /* Making sticky header visible on scroll after hero element */\n    var headerElement = $('header');\n    var contentElement = $('#content');\n    $(window).scroll(function() {\n      var offset = 100;\n      var fromTop = $(this).scrollTop() + offset;\n      var windowHeight = $(this).height();\n      var ratio = (fromTop / windowHeight * 100);\n      if (ratio >= 90) {\n        headerElement.addClass('fixed');\n        contentElement.addClass('fixed');\n      } else {\n        headerElement.removeClass('fixed');\n        contentElement.removeClass('fixed');\n      }\n    });\n\n    /* Sending email on form submit and validation */\n\n    var showFormError = function(error) {\n      $('.form-error').text(error).removeClass('hide');\n    };\n\n    var hideError = function() {\n      $('.form-error').addClass('hide');\n    };\n\n    var showFlashMessage = function(message) {\n      $('#flash-message').addClass('show').text(message);\n      setTimeout(function() {\n        $('#flash-message').removeClass('show');\n      }, 1500);\n    };\n\n    $('#sign-up').on('click', function() {\n      var email = $('#subscriber').val();\n      if (!validateEmail(email)) {\n        $('.subscriber-error').show();\n        return;\n      }\n      $('.subscriber-error').hide();\n      $('#signup').prop('disabled', true);\n      $.ajax({\n        url: 'http://gilikhayangan-shastri9999.c9users.io:8081/subscribe',\n        type: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify(\n          {\n            email: email\n          }\n        ),\n        success: function() {\n          showFlashMessage('You have successfully subscribed!');\n          $('#signup').prop('disabled', false);\n          $('#subscriber').val('');\n        }\n      });\n    });\n\n    $('#say-hello-form').submit(function(event) {\n      var message = $('#message').val();\n      var email = $('#email').val();\n      var name = $('#name').val();\n\n      event.preventDefault();\n\n      hideError();\n      if (!name) {\n        showFormError('Please fill in the Name.');\n        return;\n      }\n      if (!validateEmail(email)) {\n        showFormError('Please fill in valid Email.');\n        return;\n      }\n      if (!message) {\n        showFormError('Please fill in the Message.');\n        return;\n      }\n\n      $('.submit').prop('disabled', true);\n      $('.form-loading').removeClass('hide');\n      $.ajax({\n        url: 'http://gilikhayangan-shastri9999.c9users.io:8081/',\n        type: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify(\n          {\n            to: name + ' <' + email + '>',\n            message: message\n          }\n        ),\n        success: function() {\n          showFlashMessage('Your Message has reached us!');\n          $('.submit').prop('disabled', false);\n          $('#message').val('');\n          $('#email').val('');\n          $('#name').val('');\n          $('.form-loading').addClass('hide');\n        }\n      });\n    });\n  });\n})();\n"]}